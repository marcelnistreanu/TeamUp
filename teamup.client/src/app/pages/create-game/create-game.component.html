<div class="player-info">
  <h2 class="player-text">Create Game</h2>


  <form [formGroup]="form"
        (ngSubmit)="onSubmit()">

    <div class="form-group">


      <label for="date">Date</label>
      <p-calendar formControlName="date"
                  [ngClass]="{'ng-invalid ng-dirty is-invalid':formSubmitted && form.controls['date'].errors}"
                  [showIcon]="true"
                  [showTime]="true"
                  dateFormat="dd/mm/yy"
                  timeFormat="HH:mm">
      </p-calendar>

      @if(formSubmitted && form.get('date')?.errors){
      <div class="ng-invalid ng-dirty invalid-feedback">
        @if(form.get('date')?.errors?.['required']){
        <span>Date is required</span>
        }
      </div>
      }

    </div>

    <div class="form-group">
      <label for="location">Location</label>
      <input formControlName="location" [ngClass]="{'form-control is-invalid':formSubmitted && form.controls['location'].errors}" type="text">

      @if(formSubmitted && form.get('location')?.errors){
      <div class="invalid-feedback">
        @if(form.get('location')?.errors?.['required']){
        <span>Location is required</span>
        }
      </div>
      }
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
</div>

@if(isSuccessful) {

<div class="player-info" style="padding-top: 5px;">
  <div class="alert alert-success" role="alert">
    {{ message }}
  </div>
</div>
}

@if(formSubmitted && failure) {

<div class="player-info" style="padding-top: 5px;">
  <div class="alert alert-danger" role="alert">
    {{ errorMessage }}
  </div>
</div>
}

